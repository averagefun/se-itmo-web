<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/templLayout.xhtml">
    <ui:define name="head">
        <title>Lab3 - Main page</title>
    </ui:define>

    <ui:define name="main">
            <h1 class="main__title">Лабораторная работа #3, вариант 21</h1>

            <div class="main__row">
                <div class="main__left-block">
                    <canvas id="graph"/>

                    <h:form class="form">
                        <label class="form__label">X</label>
                        <div class="form__row">
                            <p:inputText id="X" type="hidden" name="x" value="#{results.currResult.x}"/>
                            <div class="form__x-col">
                                <p><input id="x-m5" name="x" type="radio" value="-5"/></p>
                                <label for="x-m5">-5</label>
                            </div>
                            <div class="form__x-col">
                                <p><input id="x-m4" name="x" type="radio" value="-4"/></p>
                                <label for="x-m4">-4</label>
                            </div>
                            <div class="form__x-col">
                                <p><input id="x-m3" name="x" type="radio" value="-3"/></p>
                                <label for="x-m3">-3</label>
                            </div>
                            <div class="form__x-col">
                                <p><input id="x-m2" name="x" type="radio" value="-2"/></p>
                                <label for="x-m2">-2</label>
                            </div>
                            <div class="form__x-col">
                                <p><input id="x-m1" name="x" type="radio" value="-1"/></p>
                                <label for="x-m1">-1</label>
                            </div>
                            <div class="form__x-col">
                                <p><input id="x-0" name="x" type="radio" value="0"/></p>
                                <label for="x-0">0</label>
                            </div>
                            <div class="form__x-col">
                                <p><input id="x-1" name="x" type="radio" value="1"/></p>
                                <label for="x-1">1</label>
                            </div>
                            <div class="form__x-col">
                                <p><input id="x-2" name="x" type="radio" value="2"/></p>
                                <label for="x-2">2</label>
                            </div>
                            <div class="form__x-col">
                                <p><input id="x-3" name="x" type="radio" value="3"/></p>
                                <label for="x-3">3</label>
                            </div>
                        </div>

                        <label for="Y" class="form__label">Y</label>
                        <div class="form__row">
                            <p:inputText id="Y" required="required" class="form__number-input" name="y"
                                   type="number" step="any" min="-5" max="5"
                                   placeholder="Введите значение [-5 ... 5]"
                                   value="#{results.currResult.y}"/>
                        </div>

                        <label class="form__label">R</label>
                        <div class="form__row">
                            <p:inputText id="R" type="hidden" name="x" value="#{results.currResult.r}"/>
                            <div class="form__r-col">
                                <p><input id="r-1" name="r" type="radio" value="1"/></p>
                                <label for="r-1">1.0</label>
                            </div>
                            <div class="form__r-col">
                                <p><input id="r-1.5" name="r" type="radio" value="1.5"/></p>
                                <label for="r-1.5">1.5</label>
                            </div>
                            <div class="form__r-col">
                                <p><input id="r-2" name="r" type="radio" value="2"/></p>
                                <label for="r-2">2.0</label>
                            </div>
                            <div class="form__r-col">
                                <p><input id="r-2.5" name="r" type="radio" value="2.5"/></p>
                                <label for="r-2.5">2.5</label>
                            </div>
                            <div class="form__r-col">
                                <p><input id="r-3" name="r" type="radio" value="3"/></p>
                                <label for="r-3">3.0</label>
                            </div>
                        </div>

                        <div class="form__row">
                            <p:commandButton styleClass="big-btn" type="submit" value="Отправить"
                                             action="#{results.addResult}" update="results-table"/>
                            <button class="big-btn" type="reset">Очистить</button>
                        </div>

                    </h:form>
                </div>
                <div class="main__table-block">
                    <p:dataTable id="results-table" tableStyleClass="main__table" var="result" value="#{results.resultList}">
                        <p:column style="text-align: center;" headerText="X">
                            <h:outputText value="#{result.x}" />
                        </p:column>

                        <p:column style="text-align: center;" headerText="Y">
                            <h:outputText value="#{result.y}" />
                        </p:column>

                        <p:column style="text-align: center;" headerText="R">
                            <h:outputText value="#{result.r}" />
                        </p:column>

                        <p:column style="text-align: center;" headerText="Результат">
                            <h:outputText styleClass="${result.classSuccess}" value="#{result.stringSuccess}" />
                        </p:column>
                    </p:dataTable>
                </div>
            </div>
    </ui:define>

    <ui:define name="js">
        <h:outputScript name="js/main.js"/>
        <h:outputScript name="js/graph.js"/>
    </ui:define>
</ui:composition>

</html>
